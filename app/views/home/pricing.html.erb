<%= render "shared/navbar" %>
<section class="pricing-section">
  <!-- Hero Section -->
  <div class="pricing-hero">
    <h1 class="pricing-title">Simple, Transparent Pricing</h1>
    <p class="pricing-subtitle">Choose the perfect plan for your property journey. No hidden fees, no surprises.</p>
    
    <!-- Billing Toggle -->
    <div class="billing-toggle">
      <div class="billing-option active" data-period="monthly">Monthly</div>
      <div class="billing-option" data-period="yearly">Yearly (Save 20%)</div>
    </div>
  </div>

  <div class="container">
    <!-- Tabs: Sellers / Agents -->
    <div class="pricing-tabs d-flex" id="pricingTabs">
      <button class="pricing-tab active flex-grow-1" data-bs-target="#sellers">Private Sellers</button>
      <button class="pricing-tab flex-grow-1" data-bs-target="#agents">Estate Agents</button>
    </div>

    <div class="tab-content">
      <!-- Private Sellers -->
      <div class="tab-pane fade show active" id="sellers">
        <div class="row g-4">
          <!-- Basic Plan -->
          <div class="col-lg-6">
            <div class="plan-card shadow-lg">
              <div class="plan-header">
                <h3 class="plan-name">Basic</h3>
                <div class="plan-price" data-monthly="£10" data-yearly="£8">£10</div>
                <div class="plan-period">per month</div>
                <div class="plan-savings yearly-only">Save £24 yearly</div>
              </div>
              <div class="plan-features">
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>1 active property listing</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Unlimited photos + description</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Full sales journey support</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Viewing scheduling calendar</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Partner network access</span>
                </div>
                <button class="btn-snoofly-outline">Start with Basic</button>
              </div>
            </div>
          </div>

          <!-- Plus Plan (Featured) -->
          <div class="col-lg-6">
            <div class="plan-card featured shadow-lg">
              <div class="plan-header">
                <h3 class="plan-name">Plus</h3>
                <div class="plan-price" data-monthly="£25" data-yearly="£20">£25</div>
                <div class="plan-period">per month</div>
                <div class="plan-savings yearly-only">Save £60 yearly</div>
              </div>
              <div class="plan-features">
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Up to 2 active listings</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Featured placement in search</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Priority support</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>All Basic features included</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Advanced analytics dashboard</span>
                </div>
                <button class="btn-snoofly-price">Choose Plus</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Comparison Table -->
        <div class="comparison-table">
          <div class="comparison-header">
            <h3 class="comparison-title">Feature Comparison</h3>
          </div>
          <div class="comparison-body">
            <div class="feature-row">
              <div class="feature-name">Active Listings</div>
              <div class="feature-value">1</div>
              <div class="feature-value">Up to 2</div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Featured Placement</div>
              <div class="feature-value"><i class="bi bi-x-circle feature-cross"></i></div>
              <div class="feature-value"><i class="bi bi-check-circle feature-check"></i></div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Priority Support</div>
              <div class="feature-value"><i class="bi bi-x-circle feature-cross"></i></div>
              <div class="feature-value"><i class="bi bi-check-circle feature-check"></i></div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Scheduling Calendar</div>
              <div class="feature-value"><i class="bi bi-check-circle feature-check"></i></div>
              <div class="feature-value"><i class="bi bi-check-circle feature-check"></i></div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Partner Network</div>
              <div class="feature-value"><i class="bi bi-check-circle feature-check"></i></div>
              <div class="feature-value"><i class="bi bi-check-circle feature-check"></i></div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Advanced Analytics</div>
              <div class="feature-value"><i class="bi bi-x-circle feature-cross"></i></div>
              <div class="feature-value"><i class="bi bi-check-circle feature-check"></i></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Estate Agents -->
      <div class="tab-pane fade" id="agents">
        <div class="row g-4">
          <!-- Starter Plan -->
          <div class="col-lg-6">
            <div class="plan-card shadow-lg">
              <div class="plan-header">
                <h3 class="plan-name">Starter (20 Active)</h3>
                <div class="plan-price" data-monthly="£49" data-yearly="£39">£49</div>
                <div class="plan-period">per month</div>
                <div class="plan-savings yearly-only">Save £120 yearly</div>
              </div>
              <div class="plan-features">
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Up to 20 active listings</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>3 team seats with permissions</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Agency branding on listings</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Bulk CSV uploads</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Viewing scheduler & lead inbox</span>
                </div>
                <button class="btn-snoofly-outline">Choose Starter</button>
              </div>
            </div>
          </div>

          <!-- Unlimited Plan (Featured) -->
          <div class="col-lg-6">
            <div class="plan-card featured shadow-lg">
              <div class="plan-header">
                <h3 class="plan-name">Unlimited</h3>
                <div class="plan-price" data-monthly="£79" data-yearly="£63">£79</div>
                <div class="plan-period">per month</div>
                <div class="plan-savings yearly-only">Save £192 yearly</div>
              </div>
              <div class="plan-features">
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Unlimited active listings</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>10 team seats + branch management</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Featured slots each month</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>Advanced analytics & funnels</span>
                </div>
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill feature-icon"></i>
                  <span>API/Webhooks & CRM export</span>
                </div>
                <button class="btn-snoofly">Choose Unlimited</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Comparison Table -->
        <div class="comparison-table">
          <div class="comparison-header">
            <h3 class="comparison-title">Feature Comparison</h3>
          </div>
          <div class="comparison-body">
            <div class="feature-row">
              <div class="feature-name">Active Listings</div>
              <div class="feature-value">Up to 20</div>
              <div class="feature-value">Unlimited</div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Team Seats</div>
              <div class="feature-value">3</div>
              <div class="feature-value">10 + branches</div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Featured Slots</div>
              <div class="feature-value"><i class="bi bi-x-circle feature-cross"></i></div>
              <div class="feature-value"><i class="bi bi-check-circle feature-check"></i></div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Analytics</div>
              <div class="feature-value">Basic</div>
              <div class="feature-value">Advanced</div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Support</div>
              <div class="feature-value">Standard</div>
              <div class="feature-value">Priority</div>
            </div>
            <div class="feature-row">
              <div class="feature-name">Integrations</div>
              <div class="feature-value">CSV upload</div>
              <div class="feature-value">API/Webhooks + CRM</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<%= render "shared/footer" %>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Billing toggle functionality
    const billingOptions = document.querySelectorAll('.billing-option');
    const priceElements = document.querySelectorAll('.plan-price');
    const periodElements = document.querySelectorAll('.plan-period');
    const savingsElements = document.querySelectorAll('.plan-savings');
    
    billingOptions.forEach(option => {
      option.addEventListener('click', function() {
        const period = this.getAttribute('data-period');
        
        // Update active state
        billingOptions.forEach(opt => opt.classList.remove('active'));
        this.classList.add('active');
        
        // Update prices
        priceElements.forEach(element => {
          const monthlyPrice = element.getAttribute('data-monthly');
          const yearlyPrice = element.getAttribute('data-yearly');
          element.textContent = period === 'monthly' ? monthlyPrice : yearlyPrice;
        });
        
        // Update period text
        periodElements.forEach(element => {
          element.textContent = period === 'monthly' ? 'per month' : 'per year';
        });
        
        // Show/hide savings
        savingsElements.forEach(element => {
          if (period === 'yearly') {
            element.style.display = 'block';
          } else {
            element.style.display = 'none';
          }
        });
      });
    });
    
    // Tab functionality
    const pricingTabs = document.querySelectorAll('.pricing-tab');
    
    pricingTabs.forEach(tab => {
      tab.addEventListener('click', function() {
        const target = this.getAttribute('data-bs-target');
        
        // Update active state
        pricingTabs.forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        
        // Show/hide tab content
        document.querySelectorAll('.tab-pane').forEach(pane => {
          pane.classList.remove('show', 'active');
        });
        document.querySelector(target).classList.add('show', 'active');
      });
    });
  });
</script>